<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NovaBlox Studio</title>
  <link rel="stylesheet" href="/bridge/static/studio.css" />
</head>
<body>
  <main class="shell">
    <section class="hero">
      <h1>NovaBlox Studio</h1>
      <p>
        Text + voice planner for Roblox scene automation. Generate a plan,
        inspect risk, then queue commands to the bridge with one click.
      </p>
    </section>

    <section class="grid">
      <div class="panel">
        <h2>Planner</h2>
        <div class="row">
          <div>
            <label for="apiKey">API Key</label>
            <input
              id="apiKey"
              type="password"
              placeholder="Paste ROBLOXBRIDGE_API_KEY"
            />
          </div>
          <button id="healthBtn" class="btn-secondary" type="button">
            Check Health
          </button>
        </div>

        <div class="row" style="grid-template-columns: 1fr 200px;">
          <div>
            <label for="prompt">Describe What To Build</label>
            <textarea
              id="prompt"
              placeholder="Example: Build a 12-platform obby with a neon goal and sunset mood."
            ></textarea>
          </div>
          <div>
            <label for="template">Template</label>
            <select id="template">
              <option value="">Auto Detect</option>
            </select>
            <div class="subtle">
              Auto maps prompts to obby / terrain / lighting flows.
            </div>
          </div>
        </div>

        <div class="button-row" style="margin-bottom: 8px;">
          <button id="voiceBtn" class="btn-secondary" type="button">
            Voice Input
          </button>
          <button id="planBtn" class="btn-primary" type="button">
            Generate Plan
          </button>
          <button id="queueBtn" class="btn-good" type="button">
            Queue Plan
          </button>
        </div>

        <div class="toggle">
          <input id="allowDangerous" type="checkbox" />
          <label for="allowDangerous" class="toggle-label">
            Allow dangerous actions (delete/run-command/publish)
          </label>
        </div>

        <div id="riskRow" class="button-row" style="margin-top: 10px;"></div>

        <div class="template-grid" id="templateCards"></div>
        <div class="subtle">
          Templates are deterministic and reusable: obstacle course builder,
          terrain generator, lighting mood presets.
        </div>

        <div class="log" id="log"></div>
      </div>

      <div class="panel">
        <h2>Plan Preview</h2>
        <div class="subtle" id="planMeta">No plan generated yet.</div>
        <div class="commands" id="commands"></div>
      </div>
    </section>
  </main>

  <script src="/bridge/static/studio.js"></script>
</body>
</html>
